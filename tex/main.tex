% vim:foldmethod=marker:fmr=<<<,>>> spell nowrap
\documentclass{article}

% <<<
\usepackage[utf8]{inputenc}
\usepackage[total={6.2in, 8in}]{geometry}

\usepackage{amsmath, amsthm, amssymb,amsfonts, mathtools}
\usepackage{graphicx}
\usepackage{float}
\usepackage[percent]{overpic} %writing over pictures
\usepackage{xcolor}
\usepackage{appendix}

\usepackage{mdframed}
\usepackage[colorlinks,urlcolor=blue]{hyperref}
\usepackage{verbatim}
%\usepackage{fancyvrb}
\usepackage{minted}
\renewcommand{\MintedPygmentize}{pygmentize}
\usepackage[ruled,linesnumbered]{algorithm2e}
\setlength{\algomargin}{10pt}
\newcommand{\REM}[1]{\tcp*{\parbox[t]{2.0in}{\raggedright #1}}}
\usepackage[normalem]{ulem}

\usepackage{biblatex}
\addbibresource{main.bib}

\usepackage{listings}
\usepackage{tikz-cd}
\lstset{
basicstyle=\small\ttfamily,
columns=flexible,
breaklines=true
}

\setlength{\parindent}{0pt}

\newcommand{\ket}[1]{\left|{#1}\right\rangle}
\newcommand{\bra}[1]{\left\langle{#1}\right|}
\newcommand{\BS}{\backslash}

\newcommand{\CLR}[2]{\begingroup\color{#1}#2\endgroup}
\newcommand{\R}[1]{\begingroup\color{red}#1\endgroup}
\newcommand{\G}[1]{\begingroup\color{green}#1\endgroup}
\newcommand{\B}[1]{\begingroup\color{blue}#1\endgroup}
\newcommand{\Y}[1]{\begingroup\color{yellow}#1\endgroup}

\newcommand{\vsp}[0]{\vspace*{10pt}\par}
\newcommand{\tcite}[1]{\textit{(\citefield{#1}{year}, \citeauthor{#1})}\:\textit{``\citefield{#1}{title}''}\:\cite{#1}}
\newcommand{\exercise}[1]{\subsubsection*{#1}}
\newcommand{\ans}[0]{\vsp\textbf{Answer: }}

\newcommand{\JProg}{\mathbb{J}}
\newcommand{\AST}{\mathbb{AST}}
\newcommand{\TNET}{\mathbb{TNET}}
\newcommand{\CV}{\mathbb{R}^N}
% Define \set{} command. TODO: Looks too complicated!
\DeclarePairedDelimiterX{\set}[1]{\{}{\}}{\setargs{#1}}
\NewDocumentCommand{\setargs}{>{\SplitArgument{1}{;}}m}
{\setargsaux#1}
\NewDocumentCommand{\setargsaux}{mm}
{\IfNoValueTF{#2}{#1} {#1\,\delimsize|\,\mathopen{}#2}}%{#1\:;\:#2}

% Generic environment for code snippets
\newenvironment{codeverbatim}
  {\VerbatimEnvironment
   \begin{minted}[autogobble,breaklines,fontsize=\footnotesize]{latex}}
  {\end{minted}}
\BeforeBeginEnvironment{codeverbatim}{\begin{mdframed}[nobreak=true,frametitle=\tiny{Source}]}
\AfterEndEnvironment{codeverbatim}{\end{mdframed}}

% LitREPL-compatible environment for code snippets
\newenvironment{python}
  {\VerbatimEnvironment
   \begin{minted}[autogobble,breaklines,fontsize=\footnotesize]{python}}
  {\end{minted}}
\BeforeBeginEnvironment{python}{\begin{mdframed}[nobreak=true,frametitle=\tiny{IPython}]}
\AfterEndEnvironment{python}{\end{mdframed}}

% LitREPL-compatible environment for code results
\newenvironment{result}
  {\VerbatimEnvironment
   \begin{minted}[autogobble,breaklines,fontsize=\footnotesize]{text}}
  {\end{minted}}
\BeforeBeginEnvironment{result}{\begin{mdframed}[nobreak=true,frametitle=\tiny{Result}]}
\AfterEndEnvironment{result}{\end{mdframed}}

% LitREPL-compatible command for inline code results
\newcommand{\linline}[2]{#2}
\newcommand{\st}[1]{\sout{#1}}
\renewcommand{\t}[1]{\texttt{#1}}
% >>>

\setcounter{secnumdepth}{4}
% \RedeclareSectionCommand[runin=false,afterskip=0pt,afterindent=false]{paragraph}

\title{Solutions}
\author{Sergei Mironov}

\begin{document}

\maketitle

\tableofcontents

\section{Introduction}

The book \tcite{Spivak2013CategoryTF}.

\setcounter{section}{2}
\section*{Chapter 2. The Category of Sets}

\exercise{2.3.3.1}

Create an olog for human nuclear biological families that includes the concept of person, man,
woman, parent, father, mother, and child. Make sure to label all the arrows, and make sure each
arrow indicates a valid aspect in the sense of Section 2.3.2.1. Indicate with check-marks the
diagrams that are intended to commute. If the 2-dimensionality of the page prevents a check-mark
from being unambiguous, indicate the intended commutativity with an equation.

\ans

\begin{center}
% https://tikzcd.yichuanshen.de/#N4Igdg9gJgpgziAXAbVABwnAlgFyxMJZARgBoAGAXVJADcBDAGwFcYkQ0YAnOAkAX1LpMufIRTlSxanSat2AW3qFBw7Hj4oATFJkMWbRCADuEJSqEcRG8SVJa9cwx3pcYYHAMsZ1YopIBmRwN2ADN6HAALbi81UU1kHSCafXkjBQgomNUrXwSyABZgtJAAY0isRigBGRgoAHN4IlBQrjMkMhAcCCRJEEZ6ACMYRgAFaz8jRhhQzxSndiwEHNb2xB0unsQ+1OclkBoB4bGJzX6ZzxW2hSQCmm6O+ZCjfau1gFZ7rY3dxYRDoYjcZ5cQgLhYeqRS6WVY3RB3TZIAJPEqvGHXJCfRGIZGyZ4gfYA47A+Kg8GQ6EtDGILEPRAANnu9Eq7EgYDYKOckXo-36gJOIPY5KhsRAsNuXyQjLxJW5vKOQNOZIhIrecNxdOlvyMctF4pxku2nL+Bz5xKVQpVlLF1OldL6wzA1UQAFoAOydbUE+X8kk2S0U01wCqzJBafiUfhAA
\begin{tikzcd}
                                                            & person                                                  &                                                               \\
man \arrow[ru, "is"]                                        &                                                         & woman \arrow[lu, "is"]                                        \\
                                                            & parent \arrow[dd, "has"] \arrow[uu, "is"']              &                                                               \\
father \arrow[uu, "is"] \arrow[ru, "is"] \arrow[rd, "has"'] &                                                         & mother \arrow[uu, "is"'] \arrow[lu, "is"'] \arrow[ld, "has"'] \\
                                                            & child \arrow[uuuu, "is"', bend right=90, shift right=18] &                                                              
\end{tikzcd}
\end{center}

Commutative square examples:
\begin{itemize}
\item "parent is person" $\circ$ "mother is parent" $=$ "woman is person" $\circ$ "mother is woman"
\item "mother has child" $=$ "parent has child" $\circ$ "mother is parent"
\item "child is person" $\circ$ "parent has child" $\ne$ "parent is person"
\end{itemize}

\setcounter{subsection}{3}
\subsection{Products and coproducts}

\exercise{2.4.1.4}
How many elements does the $\set{a,b,c,d} * \set{1,2,3}$ have?
\ans
12

\exercise{2.4.1.8}
\ans
\vsp (a) No, because $a(b + c) \neq (a+b)c$.
\vsp (b) No, because $x*0 \neq x$.
\vsp (c) Yes.

\exercise{2.4.1.15}

(a) Let $X$ and $Y$ be sets.. construct the "swap map" $s:(X \times Y)\to(Y \times X)$
\ans
$s:(X \times Y)\to(Y \times X) = (,)\circ\langle\pi_2,\pi_1\rangle$

Note: we used angle brackets. Is it really correct?

\vsp
(b) Can you prove that $s$ is a isomorphism using only the universal property for product?

Note: $(f:X \to Y)$ is an isomorphism if $\exists (g:Y \to X): g \circ f = id_X \land f \circ g =
id_Y$

Note: diagram $(f,g,h)$ commutes if $f \circ g = h$
\ans

In universal property of products, put $A$ equal to $Y \times X$ and get $\exists !
g:(Y \times X)\to(X \times Y)$. In a similar way, we have $\exists! s:(X \times Y)\to(Y \times X)$.
We need to show that $g \circ s = id_{(X \times Y)}$ and $s \circ g = id_{(Y\times X)}$.

On the following diagram,

% https://tikzcd.yichuanshen.de/#N4Igdg9gJgpgziAXAbVABwnAlgFyxMJZARgBoAmAXVJADcBDAGwFcYkQBBAAgB0e8AtvC4AhEAF9S6TLnyEUZAAzU6TVu259BwsZOnY8BIuVLEVDFm0QhdUkBgNyii0+bVXOElTCgBzeESgAGYAThACSC4gOBBIZCCM9ABGMIwACjKG8iAhWL4AFjggNBbq1nwwAB5YcDhwAIRBEnah4ZE0MUgmqpbsfGhYAPrkxQnJqRmORta5BUV6IK0RiFGdiADMJe59PAODxM3BYcvxa5s9ZSD9Qwc0iSnpmU4zeYWHi8dxHbGI3aUe12GXnEQA
\begin{tikzcd}
  & A \times B \arrow[ld, "\pi_1"'] \arrow[rd, "\pi_2"]                           &   \\
A &                                                                               & B \\
  & A \times B \arrow[uu, "\exists!id"'] \arrow[ru, "\pi_2"'] \arrow[lu, "\pi_1"] &
\end{tikzcd}

$id = id_{(A \times B)}$ - is the unique identity function. By combining diagrams for $f$ and $g$ we
reduce the $g \circ f$ to the similar case.

\exercise{2.4.2.4}

Would you say that a phone is the coproduct of a \texttt{cellphone} and a \texttt{landline phone}?

\ans
Yes, until we consider other types of phones besides cell- and landline ones.

\exercise{2.4.2.10}

Write the universal property for coproduct in terms of a relationship between..

\ans (TODO: not sure!) $Hom_{Set}(X,A) \sqcup Hom_{Set}(Y,A) \cong Hom_{Set}(X \sqcup Y, A)$

\exercise{2.4.2.13}

TODO

\exercise{2.4.2.14}

TODO


\subsection{Finite limits in Set}

\exercise{2.5.1.2}

\ans $X \times_{Z} Y = \set{(x_1,z_1,y_1), (x_2,z_2,y_2), (x_2,z_2,y_4), (x_3,z_2,y_2),
(x_3,z_2,y_4)}$


\exercise{2.5.1.3}

(a)
\ans Let $X = \set{\Y{1},\R{2},\B{3},\Y{4},\R{5}}; Y = \set{\Y{a},\B{b},\R{c}};$ where
$C = \set{\R{R},\B{B},\Y{Y}}$ \vsp We have:
$X \times_C Y = \set{\Y{1a},\Y{4a},\R{2c},\R{5c},\B{3b}}$

(b)
TODO (obvious).

\exercise{2.5.1.5}

(a) Suppose that $Y = \emptyset$; what can you say about $X \times_Z Y$ ?
\ans $X \times_Z Y = \emptyset$ \vsp

(b) $Z = {1}$; what can you say about $X \times_Z Y$ ?
\ans $\forall X,Y : X \times_Z Y \cong X \times Y$

\exercise{2.5.1.6}

.. Aristotelian space and time ..

$S = R^3;\quad T = R;\quad Y = S \times T;\quad g1 : Y \to S ;\quad g2 : Y \to S$ where $g1,g2$
projects space-time to its components. $X = \set{1};\quad f_1 : X \to S;\quad f_2 : X \to T$ is a
set of one element and its space-time projections.

\vsp
(a) What is the meaning of

\begin{minipage}[t]{0.45\textwidth}
\[
\begin{tikzcd}
W_1 \arrow[r] \arrow[d] & Y \arrow[d,"g_1"] \\
X \arrow[r,"f_2"] & S
\end{tikzcd}
\]
\end{minipage}
\quad
\begin{minipage}[t]{0.45\textwidth}
\[
\begin{tikzcd}
W_2 \arrow[r] \arrow[d] & Y \arrow[d,"g_2"] \\
X \arrow[r,"f_2"] & S
\end{tikzcd}
\]
\end{minipage}

\ans $1$ is associated with its time and space. $W_1$ yields time points of $Y$ corresponding
to $1$'s position. $W_2$ yields the space points corresponding to $1$'s time.

\vsp
(b) Interpret the sets in terms of the center of mass of MIT at the time of its founding.

\ans (TODO: not sure!) Is it just the MIT-relative space and time points?

\exercise{2.5.1.10}

.. Appropriate or misleading olog labels ..

\ans
\vsp (a) a person whose favorite color is blue - OK
\vsp (b) a dog whose owner is a woman - OK
\vsp (c) a good fit - Nope. We would say that a good fit requires less or equal width.

\exercise{2.5.1.11}

(a) Consider your olog from Exercise 2.3.3.1. Are any of the commutative
squares there actually pullback squares?

\ans
\vsp

Yes, for example: "father" $=$ "man" $\times_{person}$ "parent"

\begin{center}
\begin{tikzcd}
\fbox{father} \arrow[r, "is"] \arrow[d, "is"] & \fbox{man} \arrow[d,"is"] \\
\fbox{parent} \arrow[r,"is"]                  & \fbox{person}
\end{tikzcd}
\end{center}

(b) Now use ologs with products and pullbacks to define what a brother is and
what a sister is:

\ans
\vsp

\begin{center}
% https://tikzcd.yichuanshen.de/#N4Igdg9gJgpgziAXAbVABwnAlgFyxMJZABgBpiBdUkANwEMAbAVxiRACMAnCHACxk4gAvqXSZc+QigCM5KrUYs2AY15YGUYaJAZseAkTLT59Zq0QgAtnUIixeyUVnHqppRYyWt9iQZmkAJhNFcx0BOAM7HXF9KWQA0hcFMzYAHVTgABV0oW9ohz94wOCUi3Ss0gAxHOF5GCgAc3giUAAzbi9EAGZqHAgkABZXELTUtCwAfWk89ohOnpA+pABWYdKQdPGJgJmOld7+xAA2NfcQLE0o2c6hxcOT5LOwCeBVXKu9xDI7pFlH0KwCA+cyQ3yWiAS-zYgN2IIhByQCzcoTQsM6f3BSJGHlqQiAA
\begin{tikzcd}
brother \arrow[r, "is"] \arrow[d, "is"] & child \arrow[d, "p"]                      &                       \\
man \arrow[r, "p"]                      & pom \arrow[d, "\pi_1"] \arrow[r, "\pi_2"] & \{T\} \arrow[d, "id"] \\
                                        & person \arrow[r, "n_{ch}"]                & {\{T,F\}}            
\end{tikzcd}
\end{center}

where: $pom$ stands for "parent of many", $p$ is "has as parent" and $n_{ch}$ is "number of children"

\exercise{2.5.1.13}

Pullback diagram in which the fiber product is isomorphic to the preimage of $y\inY$.

\ans
\vsp

\begin{center}
% https://tikzcd.yichuanshen.de/#N4Igdg9gJgpgziAXAbVABwnAlgFyxMJZABgBpiBdUkANwEMAbAVxiRAE0A9YAWgEYAvgB0heALbwABHwD6ATxADS6TLnyEUfclVqMWbWQqUrseAkTJ8d9Zq0QgAGouUgMp9US1XqN-ffaKOjBQAObwRKAAZgBOEGJIWiA4EEgAzD56diBYUM5RsfGIAEzUyWkZtmyReSAxcUhkSSmIib5ZImhYMkU1dYWNZcUVfiAdXXyBAkA
\begin{tikzcd}
Y^{-1}\times \set{y} \arrow[r, "\pi_2"] \arrow[d, "\pi_1"] & \set{y} \arrow[d, "id"] \\
X \arrow[r, "f"]                                       & Y                  
\end{tikzcd}
\end{center}

\exercise{2.5.1.15}

TODO

\vsp
\vsp
\vsp

\printbibliography

\end{document}

